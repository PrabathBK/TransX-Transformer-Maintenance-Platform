# TransX - Transformer Maintenance Platform
## Complete Project Architecture Documentation

---

## ğŸ“‹ Table of Contents
1. [System Overview](#system-overview)
2. [High-Level Architecture](#high-level-architecture)
3. [Technology Stack](#technology-stack)
4. [Component Details](#component-details)
5. [Data Flow](#data-flow)
6. [Database Schema](#database-schema)
7. [API Endpoints](#api-endpoints)
8. [Deployment Architecture](#deployment-architecture)

---

## System Overview

**TransX** is an AI-powered transformer maintenance platform that enables electrical inspectors to:
- Manage transformer inventory
- Conduct thermal inspections
- Automatically detect anomalies using YOLOv8
- Manually annotate and review AI detections
- Generate maintenance reports
- Continuously improve AI model through human feedback

---

## High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        TRANSX PLATFORM ARCHITECTURE                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚   INSPECTOR  â”‚
                                    â”‚    (User)    â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â”‚ HTTPS
                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              FRONTEND LAYER                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  React 19 + TypeScript + Vite                        Port: 5173        â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  â€¢ Dashboard                    â€¢ Annotation Canvas (Konva.js)         â”‚ â”‚
â”‚  â”‚  â€¢ Transformer Management       â€¢ Drawing Tools                        â”‚ â”‚
â”‚  â”‚  â€¢ Inspection Management        â€¢ Image Viewer                         â”‚ â”‚
â”‚  â”‚  â€¢ Interactive Annotation       â€¢ Form Validation (Zod)                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ REST API (Axios)
                                    â”‚ JSON over HTTP
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              BACKEND LAYER                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Spring Boot 3.5.4 + Java 21                        Port: 8080        â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚ â”‚
â”‚  â”‚  â”‚ Controllers  â”‚  â”‚   Services   â”‚  â”‚ Repositories â”‚                â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Transformerâ”‚  â”‚ â€¢ Business   â”‚  â”‚ â€¢ Spring     â”‚                â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Inspection â”‚  â”‚   Logic      â”‚  â”‚   Data JPA   â”‚                â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Annotation â”‚  â”‚ â€¢ Validation â”‚  â”‚ â€¢ Custom     â”‚                â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Image      â”‚  â”‚ â€¢ ML Client  â”‚  â”‚   Queries    â”‚                â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Comments   â”‚  â”‚ â€¢ File I/O   â”‚  â”‚              â”‚                â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                               â”‚
                â”‚ JDBC/Hibernate                â”‚ HTTP REST
                â”‚                               â”‚
                â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     DATABASE LAYER        â”‚   â”‚          ML SERVICE LAYER                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  MySQL 9.4.0        â”‚ â”‚   â”‚  â”‚ Flask 2.3.0 + Python 3.11  Port: 5001  â”‚  â”‚
â”‚  â”‚  Port: 3306         â”‚ â”‚   â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚   â”‚  â”‚                                         â”‚  â”‚
â”‚  â”‚ â€¢ transformers      â”‚ â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚ â€¢ thermal_images    â”‚ â”‚   â”‚  â”‚  â”‚ YOLOv8 Model â”‚  â”‚  Similarity  â”‚   â”‚  â”‚
â”‚  â”‚ â€¢ inspections       â”‚ â”‚   â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚   Analysis   â”‚   â”‚  â”‚
â”‚  â”‚ â€¢ annotations       â”‚ â”‚   â”‚  â”‚  â”‚ â€¢ Detect     â”‚  â”‚ â€¢ SSIM       â”‚   â”‚  â”‚
â”‚  â”‚ â€¢ annotation_historyâ”‚ â”‚   â”‚  â”‚  â”‚   anomalies  â”‚  â”‚ â€¢ ORB Match  â”‚   â”‚  â”‚
â”‚  â”‚ â€¢ inspection_       â”‚ â”‚   â”‚  â”‚  â”‚ â€¢ Bounding   â”‚  â”‚ â€¢ Histogram  â”‚   â”‚  â”‚
â”‚  â”‚   comments          â”‚ â”‚   â”‚  â”‚  â”‚   boxes      â”‚  â”‚              â”‚   â”‚  â”‚
â”‚  â”‚ â€¢ inspection_       â”‚ â”‚   â”‚  â”‚  â”‚ â€¢ Confidence â”‚  â”‚              â”‚   â”‚  â”‚
â”‚  â”‚   history           â”‚ â”‚   â”‚  â”‚  â”‚   scores     â”‚  â”‚              â”‚   â”‚  â”‚
â”‚  â”‚ â€¢ inspection_       â”‚ â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚   access_log        â”‚ â”‚   â”‚  â”‚                                         â”‚  â”‚
â”‚  â”‚ â€¢ box_numbering_    â”‚ â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚   sequence          â”‚ â”‚   â”‚  â”‚  â”‚  Auto Fine-Tuning System       â”‚   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚  â”‚ â€¢ Parse feedback JSON          â”‚   â”‚  â”‚
                                â”‚  â”‚  â”‚ â€¢ Create YOLO dataset          â”‚   â”‚  â”‚
                                â”‚  â”‚  â”‚ â€¢ Train model (background)     â”‚   â”‚  â”‚
                                â”‚  â”‚  â”‚ â€¢ Update weights               â”‚   â”‚  â”‚
                                â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
                                â”‚  â”‚                                         â”‚  â”‚
                                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚      FILE STORAGE            â”‚
                                â”‚  /uploads/{uuid}/            â”‚
                                â”‚  â”œâ”€â”€ baseline/               â”‚
                                â”‚  â”œâ”€â”€ inspection/             â”‚
                                â”‚  â””â”€â”€ annotated/              â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Technology Stack

### Frontend Stack
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FRONTEND TECHNOLOGIES                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ UI Framework        : React 19.1.1                          â”‚
â”‚ Type System         : TypeScript 5.8.3                      â”‚
â”‚ Build Tool          : Vite 7.1.0                            â”‚
â”‚ Routing             : React Router DOM 7.8.0                â”‚
â”‚ HTTP Client         : Axios 1.12.2 (wrapped with fetch)     â”‚
â”‚ Canvas Library      : Konva 10.0.2 + React-Konva 19.0.10   â”‚
â”‚ Form Handling       : React Hook Form 7.62.0                â”‚
â”‚ Validation          : Zod 4.0.17                            â”‚
â”‚ Styling             : Custom CSS                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Backend Stack
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BACKEND TECHNOLOGIES                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Framework           : Spring Boot 3.5.4                     â”‚
â”‚ Language            : Java 21                               â”‚
â”‚ Build Tool          : Gradle 8.x                            â”‚
â”‚ ORM                 : Spring Data JPA + Hibernate           â”‚
â”‚ Database Driver     : MySQL Connector                       â”‚
â”‚ Validation          : Jakarta Validation API                â”‚
â”‚ File Upload         : MultipartFile                         â”‚
â”‚ JSON Processing     : Jackson                               â”‚
â”‚ HTTP Client         : RestTemplate                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ML Service Stack
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ML SERVICE TECHNOLOGIES                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Web Framework       : Flask 2.3.0                           â”‚
â”‚ Language            : Python 3.11                           â”‚
â”‚ Deep Learning       : PyTorch 2.0+                          â”‚
â”‚ Object Detection    : YOLOv8 (Ultralytics)                  â”‚
â”‚ Image Processing    : OpenCV 4.8.0                          â”‚
â”‚ Numerical Computing : NumPy 1.24.0                          â”‚
â”‚ Image Similarity    : Scikit-image (SSIM)                   â”‚
â”‚ Visualization       : Matplotlib 3.7.0                      â”‚
â”‚ CORS                : Flask-CORS 4.0.0                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Database
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATABASE TECHNOLOGY                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ RDBMS               : MySQL 9.4.0                           â”‚
â”‚ Storage Engine      : InnoDB                                â”‚
â”‚ Charset             : utf8mb4                               â”‚
â”‚ Collation           : utf8mb4_unicode_ci                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Details

### 1. Frontend Components

```
src/
â”œâ”€â”€ pages/                          # Route Components
â”‚   â”œâ”€â”€ Dashboard.tsx                   â†’ Summary statistics
â”‚   â”œâ”€â”€ TransformersList.tsx            â†’ List all transformers
â”‚   â”œâ”€â”€ TransformerDetail.tsx           â†’ Single transformer view
â”‚   â”œâ”€â”€ InspectionsList.tsx             â†’ List all inspections
â”‚   â””â”€â”€ InspectionDetailNew.tsx         â†’ Annotation workspace
â”‚
â”œâ”€â”€ components/                     # Reusable UI Components
â”‚   â”œâ”€â”€ Layout.tsx                      â†’ Sidebar + content layout
â”‚   â”œâ”€â”€ AnnotationCanvas.tsx            â†’ Konva canvas for drawing
â”‚   â”œâ”€â”€ AnnotationToolbar.tsx           â†’ Drawing mode controls
â”‚   â”œâ”€â”€ AnnotationLegend.tsx            â†’ Class color legend
â”‚   â”œâ”€â”€ NotesSection.tsx                â†’ Notes editor
â”‚   â”œâ”€â”€ CommentsSection.tsx             â†’ Comments list/form
â”‚   â”œâ”€â”€ FileDrop.tsx                    â†’ Drag-and-drop upload
â”‚   â”œâ”€â”€ Table.tsx                       â†’ Reusable data table
â”‚   â”œâ”€â”€ Modal.tsx                       â†’ Dialog component
â”‚   â”œâ”€â”€ Input.tsx                       â†’ Form input wrapper
â”‚   â””â”€â”€ Select.tsx                      â†’ Dropdown wrapper
â”‚
â””â”€â”€ api/                            # Backend API Clients
    â”œâ”€â”€ client.ts                       â†’ Base HTTP wrapper
    â”œâ”€â”€ transformers.ts                 â†’ Transformer CRUD
    â”œâ”€â”€ inspections.ts                  â†’ Inspection operations
    â”œâ”€â”€ annotations.ts                  â†’ Annotation CRUD
    â”œâ”€â”€ images.ts                       â†’ Image upload/fetch
    â”œâ”€â”€ history.ts                      â†’ Inspection history
    â””â”€â”€ inspectionComments.ts           â†’ Comments operations
```

### 2. Backend Components

```
src/main/java/org/en3350/backend/
â”œâ”€â”€ api/                            # REST Controllers
â”‚   â”œâ”€â”€ TransformerController.java      â†’ /api/transformers
â”‚   â”œâ”€â”€ InspectionController.java       â†’ /api/inspections
â”‚   â”œâ”€â”€ AnnotationController.java       â†’ /api/annotations
â”‚   â”œâ”€â”€ ThermalImageController.java     â†’ /api/images
â”‚   â”œâ”€â”€ InspectionCommentController.java â†’ /api/comments
â”‚   â””â”€â”€ dto/                            â†’ Request/Response DTOs
â”‚
â”œâ”€â”€ service/                        # Business Logic
â”‚   â”œâ”€â”€ TransformerService.java         â†’ Transformer operations
â”‚   â”œâ”€â”€ InspectionService.java          â†’ Inspection + ML integration
â”‚   â”œâ”€â”€ AnnotationService.java          â†’ Annotation management
â”‚   â”œâ”€â”€ ThermalImageService.java        â†’ Image storage/retrieval
â”‚   â”œâ”€â”€ MLServiceClient.java            â†’ HTTP client for ML service
â”‚   â””â”€â”€ InspectionHistoryService.java   â†’ Audit logging
â”‚
â”œâ”€â”€ repo/                           # Database Access
â”‚   â”œâ”€â”€ TransformerRepo.java            â†’ extends JpaRepository
â”‚   â”œâ”€â”€ InspectionRepo.java             â†’ + custom queries
â”‚   â”œâ”€â”€ AnnotationRepo.java             â†’ + version history
â”‚   â”œâ”€â”€ ThermalImageRepo.java
â”‚   â”œâ”€â”€ InspectionCommentRepo.java
â”‚   â””â”€â”€ InspectionHistoryRepo.java
â”‚
â”œâ”€â”€ domain/                         # JPA Entities
â”‚   â”œâ”€â”€ Transformer.java                â†’ Transformer table
â”‚   â”œâ”€â”€ ThermalImage.java               â†’ thermal_images table
â”‚   â”œâ”€â”€ Inspection.java                 â†’ inspections table
â”‚   â”œâ”€â”€ Annotation.java                 â†’ annotations table
â”‚   â”œâ”€â”€ AnnotationHistory.java          â†’ annotation_history table
â”‚   â”œâ”€â”€ InspectionComment.java          â†’ inspection_comments table
â”‚   â””â”€â”€ InspectionHistory.java          â†’ inspection_history table
â”‚
â””â”€â”€ config/                         # Configuration
    â”œâ”€â”€ CorsConfig.java                 â†’ CORS settings
    â”œâ”€â”€ DataSeeder.java                 â†’ Initial data
    â””â”€â”€ StaticFileConfig.java           â†’ Static resource serving
```

### 3. ML Service Components

```
ml-service/
â”œâ”€â”€ app.py                          # Main Flask application
â”‚   â”œâ”€â”€ /api/health                     â†’ Health check endpoint
â”‚   â”œâ”€â”€ /api/detect                     â†’ Anomaly detection
â”‚   â”œâ”€â”€ /api/feedback/upload            â†’ Feedback for fine-tuning
â”‚   â””â”€â”€ /api/classes                    â†’ Get detection classes
â”‚
â”œâ”€â”€ targeted_dataset_creator.py    # Auto fine-tuning dataset builder
â”‚   â”œâ”€â”€ create_dataset_from_current_feedback() â†’ Pull latest inspection feedback, map classes, build >=20 augmentations
â”‚   â”œâ”€â”€ _create_augmented_image()              â†’ Rotations, flips, brightness/contrast, gamma, hue/saturation, noise, blur, scale
â”‚   â””â”€â”€ _generate_feedback_based_annotations() â†’ Apply real boxes with jitter, correct class IDs, emit YOLO labels + dataset.yaml/info.json
â”‚
â””â”€â”€ requirements.txt                # Python dependencies

Faulty_Detection/
â”œâ”€â”€ yolov8p2.pt                     # Trained model weights
â”œâ”€â”€ similarity_yolo_system.py       # Baseline comparison engine
â”‚   â”œâ”€â”€ analyze_image_pair()            â†’ Blend SSIM/ORB/Histogram via SwiftMatcher; bypass to pure YOLO when frames differ
â”‚   â”œâ”€â”€ compare_detected_regions_with_reference() â†’ Quantify per-region change magnitude vs threshold
â”‚   â””â”€â”€ create_comparison_visualization()         â†’ Conditional Matplotlib panels with optional boxes
â”‚
â”œâ”€â”€ clean_thermal_detector.py      # Pure YOLO detection
â”‚   â”œâ”€â”€ detect()                        â†’ Run inference
â”‚   â”œâ”€â”€ _apply_nms()                    â†’ Filter overlaps
â”‚   â””â”€â”€ load_model()                    â†’ Load YOLOv8
â”‚
â””â”€â”€ train_yolov8p2.py              # Training script
    â””â”€â”€ train()                         â†’ Fine-tune model

Supporting vision techniques used inside the service:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 SUPPORTING VISION TECH STACK                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Inputs                                                      â”‚
â”‚   â€¢ Detection results                                       â”‚
â”‚   â€¢ Frame pairs (baseline vs inspection)                    â”‚
â”‚                                                             â”‚
â”‚ NMS (Non-Maximum Suppression)                               â”‚
â”‚   â€¢ Sort boxes by confidence                                â”‚
â”‚   â€¢ Drop overlaps above IoU threshold                       â”‚
â”‚   â€¢ Emit non-overlapping detections                         â”‚
â”‚                                                             â”‚
â”‚ SRM (Statistical Region Merging)                            â”‚
â”‚   â€¢ Grow pixel regions while difference < Q                 â”‚
â”‚   â€¢ Produce thermal ROIs for downstream stages              â”‚
â”‚                                                             â”‚
â”‚ ORB (Oriented FAST + Rotated BRIEF)                         â”‚
â”‚   â€¢ Detect FAST keypoints                                   â”‚
â”‚   â€¢ Build rotation-aware BRIEF descriptors                  â”‚
â”‚   â€¢ Match/track components across frames                    â”‚
â”‚                                                             â”‚
â”‚ Outputs                                                     â”‚
â”‚   â€¢ Clean detection set for YOLO response                   â”‚
â”‚   â€¢ Region proposals feeding fine-tune datasets             â”‚
â”‚   â€¢ Feature matches for baseline comparisons                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
```

---

## Data Flow

### 1. Inspection Creation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend â”‚      â”‚ Backend  â”‚      â”‚ Database â”‚      â”‚   File   â”‚
â”‚          â”‚      â”‚          â”‚      â”‚          â”‚      â”‚  System  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                 â”‚                  â”‚                  â”‚
     â”‚ 1. Create       â”‚                  â”‚                  â”‚
     â”‚  Inspection     â”‚                  â”‚                  â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚                  â”‚
     â”‚                 â”‚ 2. Save Inspection                  â”‚
     â”‚                 â”‚    (DRAFT status) â”‚                 â”‚
     â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                 â”‚
     â”‚                 â”‚                  â”‚                  â”‚
     â”‚ 3. Return ID    â”‚                  â”‚                  â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚                  â”‚
     â”‚                 â”‚                  â”‚                  â”‚
     â”‚ 4. Upload Image â”‚                  â”‚                  â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚                  â”‚
     â”‚                 â”‚ 5. Save file     â”‚                  â”‚
     â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                 â”‚                  â”‚                  â”‚
     â”‚                 â”‚ 6. Create        â”‚                  â”‚
     â”‚                 â”‚   ThermalImage   â”‚                  â”‚
     â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                 â”‚
     â”‚                 â”‚                  â”‚                  â”‚
     â”‚                 â”‚ 7. Link to       â”‚                  â”‚
     â”‚                 â”‚   Inspection     â”‚                  â”‚
     â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                 â”‚
     â”‚                 â”‚                  â”‚                  â”‚
     â”‚ 8. Return       â”‚                  â”‚                  â”‚
     â”‚   Image URL     â”‚                  â”‚                  â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚                  â”‚
     â”‚                 â”‚                  â”‚                  â”‚
```

### 2. AI Anomaly Detection Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend â”‚   â”‚ Backend  â”‚   â”‚ Database â”‚   â”‚ML Serviceâ”‚   â”‚YOLOv8    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚ 1. Click     â”‚              â”‚              â”‚              â”‚
     â”‚ "Detect"     â”‚              â”‚              â”‚              â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚ 2. Get image â”‚              â”‚              â”‚
     â”‚              â”‚    paths     â”‚              â”‚              â”‚
     â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚              â”‚
     â”‚              â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚ 3. POST      â”‚              â”‚              â”‚
     â”‚              â”‚  /api/detect â”‚              â”‚              â”‚
     â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚ 4. Inspect   â”‚
     â”‚              â”‚              â”‚              â”‚    payload   â”‚
     â”‚              â”‚              â”‚              â”‚ (baseline?)  â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚ 4a. No       â”‚
     â”‚              â”‚              â”‚              â”‚     baseline â”‚
     â”‚              â”‚              â”‚              â”‚     â†’ skip toâ”‚
     â”‚              â”‚              â”‚              â”‚     YOLO     â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚ 4b. Baseline â”‚
     â”‚              â”‚              â”‚              â”‚     present  â”‚
     â”‚              â”‚              â”‚              â”‚     â†’ run    â”‚
     â”‚              â”‚              â”‚              â”‚     similarityâ”‚
     â”‚              â”‚              â”‚              â”‚     blend    â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚ 4c. Images   â”‚
     â”‚              â”‚              â”‚              â”‚     similar? â”‚
     â”‚              â”‚              â”‚              â”‚     â€¢ NO â†’   â”‚
     â”‚              â”‚              â”‚              â”‚       return â”‚
     â”‚              â”‚              â”‚              â”‚       YOLO   â”‚
     â”‚              â”‚              â”‚              â”‚       resultsâ”‚
     â”‚              â”‚              â”‚              â”‚     â€¢ YES â†’  â”‚
     â”‚              â”‚              â”‚              â”‚       change â”‚
     â”‚              â”‚              â”‚              â”‚       analysisâ”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚ 5. Load modelâ”‚
     â”‚              â”‚              â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚ 5. Inference â”‚
     â”‚              â”‚              â”‚              â”‚  (100-300ms) â”‚
     â”‚              â”‚              â”‚              â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚ 5a. Similar  â”‚
     â”‚              â”‚              â”‚              â”‚     path?    â”‚
     â”‚              â”‚              â”‚              â”‚     â€¢ YES â†’  â”‚
     â”‚              â”‚              â”‚              â”‚       region â”‚
     â”‚              â”‚              â”‚              â”‚       compareâ”‚
     â”‚              â”‚              â”‚              â”‚       & box   â”‚
     â”‚              â”‚              â”‚              â”‚       gating  â”‚
     â”‚              â”‚              â”‚              â”‚     â€¢ NO  â†’   â”‚
     â”‚              â”‚              â”‚              â”‚       skip    â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚ 6. Return    â”‚              â”‚              â”‚
     â”‚              â”‚   detections â”‚              â”‚              â”‚
     â”‚              â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚ 7. Save      â”‚              â”‚              â”‚
     â”‚              â”‚   annotationsâ”‚              â”‚              â”‚
     â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚ 8. Return    â”‚              â”‚              â”‚              â”‚
     â”‚   annotationsâ”‚              â”‚              â”‚              â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚ 9. Render    â”‚              â”‚              â”‚              â”‚
     â”‚    boxes     â”‚              â”‚              â”‚              â”‚
     â”‚    on canvas â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
```

**Notes**:
- When no baseline image is provided, the ML service bypasses the similarity pipeline and responds with standard YOLO detections.
- When a baseline is provided and the frames are deemed similar, the service performs region-level change analysis and only surfaces boxes when the change magnitude passes the configured threshold; otherwise it still returns the similarity metrics alongside the detections.

### 3. Manual Annotation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend â”‚      â”‚ Backend  â”‚      â”‚ Database â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                 â”‚                  â”‚
     â”‚ 1. Switch to    â”‚                  â”‚
     â”‚   "Draw" mode   â”‚                  â”‚
     â”‚                 â”‚                  â”‚
     â”‚ 2. Drag mouse   â”‚                  â”‚
     â”‚   to draw box   â”‚                  â”‚
     â”‚                 â”‚                  â”‚
     â”‚ 3. Release      â”‚                  â”‚
     â”‚   â†’ Create      â”‚                  â”‚
     â”‚   annotation    â”‚                  â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚
     â”‚                 â”‚                  â”‚
     â”‚                 â”‚ 4. Assign        â”‚
     â”‚                 â”‚   box_number     â”‚
     â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                 â”‚                  â”‚
     â”‚                 â”‚ 5. Save with     â”‚
     â”‚                 â”‚   source='human' â”‚
     â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                 â”‚                  â”‚
     â”‚                 â”‚ 6. Log history   â”‚
     â”‚                 â”‚   (action='created')
     â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                 â”‚                  â”‚
     â”‚ 7. Return saved â”‚                  â”‚
     â”‚   annotation    â”‚                  â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
     â”‚                 â”‚                  â”‚
     â”‚ 8. Update canvasâ”‚                  â”‚
     â”‚   (add new box) â”‚                  â”‚
     â”‚                 â”‚                  â”‚
```

### 4. Feedback Export & Auto Fine-Tuning Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend â”‚   â”‚ Backend  â”‚   â”‚ Database â”‚   â”‚ML Serviceâ”‚   â”‚ Training â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚ 1. Click     â”‚              â”‚              â”‚              â”‚
     â”‚ "Export      â”‚              â”‚              â”‚              â”‚
     â”‚  Feedback"   â”‚              â”‚              â”‚              â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚ 2. Get all   â”‚              â”‚              â”‚
     â”‚              â”‚   annotationsâ”‚              â”‚              â”‚
     â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚              â”‚
     â”‚              â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚ 3. Build     â”‚              â”‚              â”‚
     â”‚              â”‚   feedback   â”‚              â”‚              â”‚
     â”‚              â”‚   JSON       â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚ 4. POST      â”‚              â”‚              â”‚
     â”‚              â”‚  /feedback/  â”‚              â”‚              â”‚
     â”‚              â”‚   upload     â”‚              â”‚              â”‚
     â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚ 5. Parse JSONâ”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚ 6. Check     â”‚
     â”‚              â”‚              â”‚              â”‚   triggers   â”‚
     â”‚              â”‚              â”‚              â”‚ (>=2 key     â”‚
     â”‚              â”‚              â”‚              â”‚  edits or    â”‚
     â”‚              â”‚              â”‚              â”‚  total>=3)   â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚ 7. Build     â”‚
     â”‚              â”‚              â”‚              â”‚   augmented  â”‚
     â”‚              â”‚              â”‚              â”‚   dataset    â”‚
     â”‚              â”‚              â”‚              â”‚ (>=20 imgs + â”‚
     â”‚              â”‚              â”‚              â”‚  YOLO labels)â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚ 8. Launch    â”‚
     â”‚              â”‚              â”‚              â”‚   fine-tune  â”‚
     â”‚              â”‚              â”‚              â”‚   thread     â”‚
     â”‚              â”‚              â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚ 9. Return    â”‚              â”‚              â”‚
     â”‚              â”‚   success +  â”‚              â”‚              â”‚
     â”‚              â”‚   training   â”‚              â”‚              â”‚
     â”‚              â”‚   status     â”‚              â”‚              â”‚
     â”‚              â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚ 10. Show     â”‚              â”‚              â”‚              â”‚
     â”‚    success   â”‚              â”‚              â”‚              â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚ (Background) â”‚
     â”‚              â”‚              â”‚              â”‚ 11. Train    â”‚
     â”‚              â”‚              â”‚              â”‚    50 epochs â”‚
     â”‚              â”‚              â”‚              â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚ 12. Copy     â”‚
     â”‚              â”‚              â”‚              â”‚    best.pt   â”‚
     â”‚              â”‚              â”‚              â”‚    -> timestampedâ”‚
     â”‚              â”‚              â”‚              â”‚    file      â”‚
     â”‚              â”‚              â”‚              â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚ 13. Reload   â”‚
     â”‚              â”‚              â”‚              â”‚    model via â”‚
     â”‚              â”‚              â”‚              â”‚    load_modelâ”‚
     â”‚              â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚ 14. Cleanup  â”‚
     â”‚              â”‚              â”‚              â”‚    dataset   â”‚
     â”‚              â”‚              â”‚              â”‚    (delete dir)
     â”‚              â”‚              â”‚              â”‚              â”‚
```

**Fine-tune Notes**:
- The dataset creator synthesizes at least 20 augmented images per feedback run (rotations, flips, brightness/contrast, gamma, hue/saturation, blur, noise, scale) and applies the real feedback boxes with small jitter before writing YOLO labels plus `dataset.yaml` and `info.json`.
- Fine-tuning runs in a background thread with a lower learning rate and short patience; successful runs copy `best.pt` into `Faulty_Detection` using a timestamped filename, reload the Flask model, and delete the temporary dataset directory.

---

## Database Schema

```sql
-- Core Entities
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DATABASE SCHEMA                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

transformers                        thermal_images
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id (PK, UUID)       â”‚            â”‚ id (PK, UUID)       â”‚
â”‚ code (UNIQUE)       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ transformer_id (FK) â”‚
â”‚ location            â”‚            â”‚ file_name           â”‚
â”‚ capacity_kva        â”‚            â”‚ file_path           â”‚
â”‚ region              â”‚            â”‚ file_size           â”‚
â”‚ pole_no             â”‚            â”‚ type (ENUM)         â”‚
â”‚ type                â”‚            â”‚ env_condition       â”‚
â”‚ location_details    â”‚            â”‚ uploaded_at         â”‚
â”‚ is_active           â”‚            â”‚ uploaded_by         â”‚
â”‚ created_at          â”‚            â”‚ is_active           â”‚
â”‚ updated_at          â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
         â”‚                                   â”‚
         â”‚                                   â”‚
         â”‚              inspections          â”‚
         â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ id (PK, UUID)                   â”‚
                      â”‚ inspection_number (UNIQUE)      â”‚
                      â”‚ transformer_id (FK) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ baseline_image_id (FK) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚ inspection_image_id (FK) â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                      â”‚ original_inspection_image_id â”€â”€â”€â”€â”¤
                      â”‚ weather_condition (ENUM)         â”‚
                      â”‚ status (ENUM)                    â”‚
                      â”‚ notes (TEXT)                     â”‚
                      â”‚ inspected_at                     â”‚
                      â”‚ inspected_by                     â”‚
                      â”‚ maintenance_date                 â”‚
                      â”‚ is_active                        â”‚
                      â”‚ created_at                       â”‚
                      â”‚ updated_at                       â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚               â”‚               â”‚
                â–¼               â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  annotations    â”‚  â”‚inspection_     â”‚  â”‚ inspection_     â”‚
    â”‚                 â”‚  â”‚  comments      â”‚  â”‚   history       â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ id (PK, UUID)   â”‚  â”‚ id (PK, UUID)  â”‚  â”‚ id (PK, AUTO)   â”‚
    â”‚ inspection_id   â”‚  â”‚ inspection_id  â”‚  â”‚ inspection_id   â”‚
    â”‚ bbox_x1         â”‚  â”‚ user_id        â”‚  â”‚ action_type     â”‚
    â”‚ bbox_y1         â”‚  â”‚ comment        â”‚  â”‚ performed_by    â”‚
    â”‚ bbox_x2         â”‚  â”‚ created_at     â”‚  â”‚ performed_at    â”‚
    â”‚ bbox_y2         â”‚  â”‚ updated_at     â”‚  â”‚ old_value       â”‚
    â”‚ class_name      â”‚  â”‚ is_active      â”‚  â”‚ new_value       â”‚
    â”‚ confidence      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ created_at      â”‚
    â”‚ source (ENUM)   â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ status (ENUM)   â”‚
    â”‚ version         â”‚
    â”‚ parent_annot_id â”‚â”€â”€â” (self-reference)
    â”‚ box_number      â”‚  â”‚
    â”‚ created_by      â”‚  â”‚
    â”‚ created_at      â”‚  â”‚
    â”‚ modified_by     â”‚  â”‚
    â”‚ modified_at     â”‚  â”‚
    â”‚ is_active       â”‚  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
             â”‚           â”‚
             â”‚           â”‚
             â–¼           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚ annotation_     â”‚  â”‚
    â”‚   history       â”‚  â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
    â”‚ id (PK, AUTO)   â”‚  â”‚
    â”‚ annotation_idâ”€â”€â”€â”¼â”€â”€â”˜
    â”‚ inspection_id   â”‚
    â”‚ bbox_x1         â”‚
    â”‚ bbox_y1         â”‚
    â”‚ bbox_x2         â”‚
    â”‚ bbox_y2         â”‚
    â”‚ class_name      â”‚
    â”‚ confidence      â”‚
    â”‚ source          â”‚
    â”‚ status          â”‚
    â”‚ version         â”‚
    â”‚ action_type     â”‚
    â”‚ performed_by    â”‚
    â”‚ performed_at    â”‚
    â”‚ is_active       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ box_numbering_      â”‚
    â”‚   sequence          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ inspection_id (PK)  â”‚
    â”‚ next_box_number     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ inspection_         â”‚
    â”‚   access_log        â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ id (PK, AUTO)       â”‚
    â”‚ inspection_id       â”‚
    â”‚ user_id             â”‚
    â”‚ access_type         â”‚
    â”‚ accessed_at         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Key Relationships:
- **1 Transformer â†’ Many ThermalImages** (baseline images)
- **1 Transformer â†’ Many Inspections** (inspection history)
- **1 Inspection â†’ 1 Baseline Image** (reference)
- **1 Inspection â†’ 1 Inspection Image** (current)
- **1 Inspection â†’ Many Annotations** (AI + human)
- **1 Annotation â†’ Many AnnotationHistory** (version control)
- **1 Annotation â†’ 1 Parent Annotation** (edit tracking)

---

## API Endpoints

### Transformer Endpoints
```
GET    /api/transformers?q={search}&page={n}&size={n}
POST   /api/transformers
GET    /api/transformers/{id}
PUT    /api/transformers/{id}
DELETE /api/transformers/{id}
```

### Inspection Endpoints
```
GET    /api/inspections?transformerId={id}&q={search}
POST   /api/inspections
GET    /api/inspections/{id}
PUT    /api/inspections/{id}
PUT    /api/inspections/{id}/status
POST   /api/inspections/{id}/upload-image?imageId={id}
POST   /api/inspections/{id}/upload-annotated-image?imageId={id}
DELETE /api/inspections/{id}/inspection-image
POST   /api/inspections/{id}/detect-anomalies?confidenceThreshold={0.25}
GET    /api/inspections/{id}/feedback-export
GET    /api/inspections/{id}/feedback-export/csv
DELETE /api/inspections/{id}
```

### Annotation Endpoints
```
GET    /api/annotations?inspectionId={id}
POST   /api/annotations
POST   /api/annotations/batch
POST   /api/annotations/{id}/approve?userId={id}
POST   /api/annotations/{id}/reject
DELETE /api/annotations/{id}?userId={id}
GET    /api/annotations/{id}/history
```

### Image Endpoints
```
GET    /api/images?transformerId={id}&type={type}
POST   /api/images (multipart/form-data)
GET    /api/images/{id}
DELETE /api/images/{id}
```

### ML Service Endpoints
```
GET    /api/health
POST   /api/detect
GET    /api/classes
POST   /api/feedback/upload
```

---

## Deployment Architecture

### Development Environment
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DEVELOPMENT SETUP                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  Frontend Dev Server                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ npm run dev                            â”‚                 â”‚
â”‚  â”‚ http://localhost:5173                  â”‚                 â”‚
â”‚  â”‚ Hot Module Replacement (HMR)           â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                               â”‚
â”‚  Backend Dev Server                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ gradle bootRun                         â”‚                 â”‚
â”‚  â”‚ http://localhost:8080                  â”‚                 â”‚
â”‚  â”‚ Auto-restart on file changes           â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                               â”‚
â”‚  ML Service Dev Server                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ python app.py                          â”‚                 â”‚
â”‚  â”‚ http://localhost:5001                  â”‚                 â”‚
â”‚  â”‚ Debug mode enabled                     â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                               â”‚
â”‚  MySQL Database                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ mysql://localhost:3306/en3350_db       â”‚                 â”‚
â”‚  â”‚ root / password                        â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Production Deployment (Recommended)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PRODUCTION DEPLOYMENT                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  Load Balancer (Nginx)                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ Port 80/443 (HTTPS)                    â”‚                 â”‚
â”‚  â”‚ SSL Termination                        â”‚                 â”‚
â”‚  â”‚ Static file serving                    â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚         â”‚                                                     â”‚
â”‚         â”œâ”€â”€â–º Frontend (Static Build)                         â”‚
â”‚         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚         â”‚    â”‚ npm run build              â”‚                 â”‚
â”‚         â”‚    â”‚ Vite production build      â”‚                 â”‚
â”‚         â”‚    â”‚ Optimized bundles          â”‚                 â”‚
â”‚         â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚         â”‚                                                     â”‚
â”‚         â”œâ”€â”€â–º Backend (JAR)                                   â”‚
â”‚         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚         â”‚    â”‚ java -jar backend.jar      â”‚                 â”‚
â”‚         â”‚    â”‚ Port 8080                  â”‚                 â”‚
â”‚         â”‚    â”‚ Production profile         â”‚                 â”‚
â”‚         â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚         â”‚                                                     â”‚
â”‚         â””â”€â”€â–º ML Service (Gunicorn)                           â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚              â”‚ gunicorn app:app           â”‚                 â”‚
â”‚              â”‚ Workers: 2-4               â”‚                 â”‚
â”‚              â”‚ Port 5001                  â”‚                 â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                               â”‚
â”‚  Database (MySQL)                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ Managed MySQL instance                 â”‚                 â”‚
â”‚  â”‚ Automated backups                      â”‚                 â”‚
â”‚  â”‚ Replication (optional)                 â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                               â”‚
â”‚  File Storage                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ Network File System (NFS)              â”‚                 â”‚
â”‚  â”‚ or Object Storage (S3)                 â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Security Considerations

1. **Authentication**: Currently open (Phase 4 future work)
2. **CORS**: Configured for localhost development
3. **File Upload**: Validated file types and sizes
4. **SQL Injection**: Protected by JPA/Hibernate
5. **XSS**: React escapes output by default
6. **HTTPS**: Required for production

---

## Performance Metrics

- **Frontend Load Time**: < 2 seconds
- **API Response Time**: < 500ms (typical)
- **ML Inference Time**: 100-300ms per image
- **Database Query Time**: < 100ms (indexed queries)
- **File Upload**: Depends on network speed

---

## Future Enhancements

1. **User Authentication** (JWT/OAuth2)
2. **Role-Based Access Control** (Inspector, Admin, Viewer)
3. **Real-time Notifications** (WebSocket)
4. **Mobile App** (React Native)
5. **Offline Support** (PWA)
6. **Advanced Analytics** (Dashboard charts)
7. **PDF Report Generation**
8. **Model A/B Testing**

---

**Last Updated**: October 26, 2025  
**Project**: TransX - Transformer Maintenance Platform  
**Competition**: EN3350 Software Design Competition
